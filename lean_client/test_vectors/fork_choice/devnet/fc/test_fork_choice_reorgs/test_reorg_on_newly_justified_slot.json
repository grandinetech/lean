{
    "tests/consensus/devnet/fc/test_fork_choice_reorgs.py::test_reorg_on_newly_justified_slot[fork_Devnet][fork_devnet-fork_choice_test]": {
        "network": "Devnet",
        "leanEnv": "test",
        "anchorState": {
            "config": {
                "genesisTime": 0
            },
            "slot": 0,
            "latestBlockHeader": {
                "slot": 0,
                "proposerIndex": 0,
                "parentRoot": "0x0000000000000000000000000000000000000000000000000000000000000000",
                "stateRoot": "0x0000000000000000000000000000000000000000000000000000000000000000",
                "bodyRoot": "0xdba9671bac9513c9482f1416a53aabd2c6ce90d5a5f865ce5a55c775325c9136"
            },
            "latestJustified": {
                "root": "0x0000000000000000000000000000000000000000000000000000000000000000",
                "slot": 0
            },
            "latestFinalized": {
                "root": "0x0000000000000000000000000000000000000000000000000000000000000000",
                "slot": 0
            },
            "historicalBlockHashes": {
                "data": []
            },
            "justifiedSlots": {
                "data": []
            },
            "validators": {
                "data": [
                    {
                        "pubkey": "0x8fa00001b5b22a073d21cb60c9465b379f80e74fee9baf1d137eb651ed162900a6f3ec32da74ff09265ea62fc9a5055b2e9b7c7b",
                        "index": 0
                    },
                    {
                        "pubkey": "0xbc56037ab0485c00441e3205d908e55a016d5450a335144f50ccb034cb253c05a1cbc047b5695a5672697d584656e96a4b94f173",
                        "index": 1
                    },
                    {
                        "pubkey": "0x79422d64ecdc3b0bf7c6cc31bbfb9f4eab7950107fe23c6f4f9c94465c81f80d85a1931f1003c50531147f350357805f22fdd70b",
                        "index": 2
                    },
                    {
                        "pubkey": "0x575bb17b0f673d76689c9527a21fac68eb5ebd571703a245deb2a8384baea4747be00d5b469ff30f830e234f74453f6e2c20cb26",
                        "index": 3
                    },
                    {
                        "pubkey": "0xd84fbd1ad59fc5331284b7230d73cf63aee8e65322eae85ce6b06d408087fb192ad07648e42ee229cda8ed266a86905252eed57b",
                        "index": 4
                    },
                    {
                        "pubkey": "0x0fb6092458097055b7b5695aee9a3306a70db27dee357637555504587cc3b70979a27e476d06f656db47a868aca9b01e1efb1978",
                        "index": 5
                    },
                    {
                        "pubkey": "0xb5cd3b4395f76558823a0f16eeab034d31e5024576d8f5529e5e3e666aa5c764d80c035ed260fa6be73ca72517e05135f264f819",
                        "index": 6
                    },
                    {
                        "pubkey": "0x522b0815c617a3545d5b53361a454251369d923ffc4b174a5712ce01a20fd60572579c3e03bf093b1015ef0fe6063e22ddef214d",
                        "index": 7
                    },
                    {
                        "pubkey": "0x21ade9268c60af157f924f637f4b9c3734b523121efa0b547e21c90d71c14340accca6326736800c2ef1bf61877c986d4ddf835e",
                        "index": 8
                    }
                ]
            },
            "justificationsRoots": {
                "data": []
            },
            "justificationsValidators": {
                "data": []
            }
        },
        "anchorBlock": {
            "slot": 0,
            "proposerIndex": 0,
            "parentRoot": "0x0000000000000000000000000000000000000000000000000000000000000000",
            "stateRoot": "0x54b2feb4bf7af0733124b95734956ea836039d73c6729694f34d931d8153282e",
            "body": {
                "attestations": {
                    "data": []
                }
            }
        },
        "steps": [
            {
                "valid": true,
                "checks": {
                    "headSlot": 1,
                    "headRoot": "0x3add9bf5c7359b5ca66b37a2466eeda4c175735535a4223fe151515c9bd949c9",
                    "headRootLabel": "base"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 1,
                        "proposerIndex": 1,
                        "parentRoot": "0xf5f1658d4cf27f24ecb6e1eaba8e849f11bf21389c8356602f1fa1ef166bab30",
                        "stateRoot": "0xc38a9f8c6637d67b91e6afc7ee38c453e31d53489c8d40f82fb19f7f4af49665",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 1,
                        "data": {
                            "slot": 1,
                            "head": {
                                "root": "0x3add9bf5c7359b5ca66b37a2466eeda4c175735535a4223fe151515c9bd949c9",
                                "slot": 1
                            },
                            "target": {
                                "root": "0x3add9bf5c7359b5ca66b37a2466eeda4c175735535a4223fe151515c9bd949c9",
                                "slot": 1
                            },
                            "source": {
                                "root": "0xf5f1658d4cf27f24ecb6e1eaba8e849f11bf21389c8356602f1fa1ef166bab30",
                                "slot": 0
                            }
                        }
                    },
                    "blockRootLabel": "base"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 2,
                    "headRoot": "0x5bbfb6d6e0eb47ebfc882cefa81472e1a295b77ba02871d0cb725bc12f6edf7a",
                    "headRootLabel": "fork_a_1"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 2,
                        "proposerIndex": 2,
                        "parentRoot": "0x3add9bf5c7359b5ca66b37a2466eeda4c175735535a4223fe151515c9bd949c9",
                        "stateRoot": "0xcf9d5037d21452fe6face69ecb9399827ff5d7dde448c733530d9f013c30d59e",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 2,
                        "data": {
                            "slot": 2,
                            "head": {
                                "root": "0x5bbfb6d6e0eb47ebfc882cefa81472e1a295b77ba02871d0cb725bc12f6edf7a",
                                "slot": 2
                            },
                            "target": {
                                "root": "0x5bbfb6d6e0eb47ebfc882cefa81472e1a295b77ba02871d0cb725bc12f6edf7a",
                                "slot": 2
                            },
                            "source": {
                                "root": "0x3add9bf5c7359b5ca66b37a2466eeda4c175735535a4223fe151515c9bd949c9",
                                "slot": 1
                            }
                        }
                    },
                    "blockRootLabel": "fork_a_1"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 3,
                    "headRoot": "0xd113b068f02969c279427a90fbc4610eb4854bcec545517e4564abcbdb62d0e3",
                    "headRootLabel": "fork_a_2"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 3,
                        "proposerIndex": 3,
                        "parentRoot": "0x5bbfb6d6e0eb47ebfc882cefa81472e1a295b77ba02871d0cb725bc12f6edf7a",
                        "stateRoot": "0x0989b85535d514f2e157feb2721f285adf509a8ce7aaf47287e2307699b29bde",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 3,
                        "data": {
                            "slot": 3,
                            "head": {
                                "root": "0xd113b068f02969c279427a90fbc4610eb4854bcec545517e4564abcbdb62d0e3",
                                "slot": 3
                            },
                            "target": {
                                "root": "0xd113b068f02969c279427a90fbc4610eb4854bcec545517e4564abcbdb62d0e3",
                                "slot": 3
                            },
                            "source": {
                                "root": "0x5bbfb6d6e0eb47ebfc882cefa81472e1a295b77ba02871d0cb725bc12f6edf7a",
                                "slot": 2
                            }
                        }
                    },
                    "blockRootLabel": "fork_a_2"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 4,
                    "headRoot": "0xd74eef9ff6d123c6a90d4d08e12572ec5b4b8dafe4a8f838c41f5a43984671f9",
                    "headRootLabel": "fork_a_3"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 4,
                        "proposerIndex": 4,
                        "parentRoot": "0xd113b068f02969c279427a90fbc4610eb4854bcec545517e4564abcbdb62d0e3",
                        "stateRoot": "0xf3529b1b0adc1bb05ff6485e77b93abf1cc16c1c83e9c4932d24590fbedd8dff",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 4,
                        "data": {
                            "slot": 4,
                            "head": {
                                "root": "0xd74eef9ff6d123c6a90d4d08e12572ec5b4b8dafe4a8f838c41f5a43984671f9",
                                "slot": 4
                            },
                            "target": {
                                "root": "0xd74eef9ff6d123c6a90d4d08e12572ec5b4b8dafe4a8f838c41f5a43984671f9",
                                "slot": 4
                            },
                            "source": {
                                "root": "0xd113b068f02969c279427a90fbc4610eb4854bcec545517e4564abcbdb62d0e3",
                                "slot": 3
                            }
                        }
                    },
                    "blockRootLabel": "fork_a_3"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 4,
                    "headRoot": "0xd74eef9ff6d123c6a90d4d08e12572ec5b4b8dafe4a8f838c41f5a43984671f9",
                    "headRootLabel": "fork_a_3"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 5,
                        "proposerIndex": 5,
                        "parentRoot": "0x3add9bf5c7359b5ca66b37a2466eeda4c175735535a4223fe151515c9bd949c9",
                        "stateRoot": "0x6fa57208be09487b0cfaaabae48ccba9a335102fa55fd6ae2177d9e1b860bc32",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 5,
                        "data": {
                            "slot": 5,
                            "head": {
                                "root": "0xb478313113a443d30348b55aef74f1330ac3d7bf2f8c5ca54802659c7d8b192c",
                                "slot": 5
                            },
                            "target": {
                                "root": "0xb478313113a443d30348b55aef74f1330ac3d7bf2f8c5ca54802659c7d8b192c",
                                "slot": 5
                            },
                            "source": {
                                "root": "0x3add9bf5c7359b5ca66b37a2466eeda4c175735535a4223fe151515c9bd949c9",
                                "slot": 1
                            }
                        }
                    },
                    "blockRootLabel": "fork_b_1"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 6,
                    "headRoot": "0x192bc9efe1a001132499fad31956ae165c73d9b37219a7b1bc3b1f82a492412f",
                    "headRootLabel": "fork_b_2",
                    "latestJustifiedSlot": 5,
                    "latestJustifiedRoot": "0xb478313113a443d30348b55aef74f1330ac3d7bf2f8c5ca54802659c7d8b192c",
                    "latestJustifiedRootLabel": "fork_b_1"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 6,
                        "proposerIndex": 6,
                        "parentRoot": "0xb478313113a443d30348b55aef74f1330ac3d7bf2f8c5ca54802659c7d8b192c",
                        "stateRoot": "0x14805a0ca35798cb8993b564dab4b7e725395224cf6e36fddf507b7f367c540d",
                        "body": {
                            "attestations": {
                                "data": [
                                    {
                                        "aggregationBits": {
                                            "data": [
                                                true,
                                                true,
                                                false,
                                                false,
                                                false,
                                                true,
                                                true,
                                                true,
                                                true
                                            ]
                                        },
                                        "data": {
                                            "slot": 5,
                                            "head": {
                                                "root": "0xb478313113a443d30348b55aef74f1330ac3d7bf2f8c5ca54802659c7d8b192c",
                                                "slot": 5
                                            },
                                            "target": {
                                                "root": "0xb478313113a443d30348b55aef74f1330ac3d7bf2f8c5ca54802659c7d8b192c",
                                                "slot": 5
                                            },
                                            "source": {
                                                "root": "0xf5f1658d4cf27f24ecb6e1eaba8e849f11bf21389c8356602f1fa1ef166bab30",
                                                "slot": 0
                                            }
                                        }
                                    }
                                ]
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 6,
                        "data": {
                            "slot": 6,
                            "head": {
                                "root": "0x192bc9efe1a001132499fad31956ae165c73d9b37219a7b1bc3b1f82a492412f",
                                "slot": 6
                            },
                            "target": {
                                "root": "0x192bc9efe1a001132499fad31956ae165c73d9b37219a7b1bc3b1f82a492412f",
                                "slot": 6
                            },
                            "source": {
                                "root": "0xb478313113a443d30348b55aef74f1330ac3d7bf2f8c5ca54802659c7d8b192c",
                                "slot": 5
                            }
                        }
                    },
                    "blockRootLabel": "fork_b_2"
                }
            }
        ],
        "maxSlot": 6,
        "_info": {
            "hash": "0xf9d5c81f2b9be058474fd5b825104a9ac5a0aa72884469b8005a57108a69fbfc",
            "comment": "`leanSpec` generated test",
            "testId": "tests/consensus/devnet/fc/test_fork_choice_reorgs.py::test_reorg_on_newly_justified_slot[fork_Devnet]",
            "description": "Reorg occurs correctly when forks cross justification boundaries.\n\n    Scenario\n    --------\n    Two forks compete. Fork A is heavier and longer, but Fork B manages to\n    become justified. Fork choice must switch to the justified fork regardless\n    of weight/length.\n\n    - Slot 1: Base\n    - Slots 2-4: Fork A extends (becomes head with depth 3)\n    - Slot 5: Fork B appears (descending from Base, skipping slots 2-4)\n    - Slot 6: Fork B extends. This block contains enough attestations to\n              justify Fork B at Slot 5.\n\n    Expected Behavior\n    -----------------\n    1. Fork A takes the lead initially (Slots 2-4) as the heaviest chain.\n    2. Fork B appears at Slot 5 but is initially lighter.\n    3. At Slot 6, the new block includes attestations that justify Fork B at Slot 5.\n    4. The justified checkpoint updates to Slot 5 (fork_b_1).\n    5. Fork A is immediately discarded because it does not descend from the new\n       justified checkpoint (Fork A is on a branch from Slot 1).\n    6. Fork B becomes the canonical head.\n\n    Why This Matters\n    ----------------\n    Justification is a critical safety mechanism:\n    - Limits which blocks can be attested to\n    - Ensures fork choice respects finality constraints\n\n    This test ensures:\n    - Reorgs respect justification boundaries\n    - Fork choice works correctly across justifiable slots\n    - Safety guarantees maintained during reorgs",
            "fixtureFormat": "fork_choice_test"
        }
    }
}