{
    "tests/consensus/devnet/fc/test_fork_choice_reorgs.py::test_reorg_with_slot_gaps[fork_Devnet][fork_devnet-fork_choice_test]": {
        "network": "Devnet",
        "leanEnv": "test",
        "anchorState": {
            "config": {
                "genesisTime": 0
            },
            "slot": 0,
            "latestBlockHeader": {
                "slot": 0,
                "proposerIndex": 0,
                "parentRoot": "0x0000000000000000000000000000000000000000000000000000000000000000",
                "stateRoot": "0x0000000000000000000000000000000000000000000000000000000000000000",
                "bodyRoot": "0xdba9671bac9513c9482f1416a53aabd2c6ce90d5a5f865ce5a55c775325c9136"
            },
            "latestJustified": {
                "root": "0x0000000000000000000000000000000000000000000000000000000000000000",
                "slot": 0
            },
            "latestFinalized": {
                "root": "0x0000000000000000000000000000000000000000000000000000000000000000",
                "slot": 0
            },
            "historicalBlockHashes": {
                "data": []
            },
            "justifiedSlots": {
                "data": []
            },
            "validators": {
                "data": [
                    {
                        "pubkey": "0x8fa00001b5b22a073d21cb60c9465b379f80e74fee9baf1d137eb651ed162900a6f3ec32da74ff09265ea62fc9a5055b2e9b7c7b",
                        "index": 0
                    },
                    {
                        "pubkey": "0xbc56037ab0485c00441e3205d908e55a016d5450a335144f50ccb034cb253c05a1cbc047b5695a5672697d584656e96a4b94f173",
                        "index": 1
                    },
                    {
                        "pubkey": "0x79422d64ecdc3b0bf7c6cc31bbfb9f4eab7950107fe23c6f4f9c94465c81f80d85a1931f1003c50531147f350357805f22fdd70b",
                        "index": 2
                    },
                    {
                        "pubkey": "0x575bb17b0f673d76689c9527a21fac68eb5ebd571703a245deb2a8384baea4747be00d5b469ff30f830e234f74453f6e2c20cb26",
                        "index": 3
                    },
                    {
                        "pubkey": "0xd84fbd1ad59fc5331284b7230d73cf63aee8e65322eae85ce6b06d408087fb192ad07648e42ee229cda8ed266a86905252eed57b",
                        "index": 4
                    },
                    {
                        "pubkey": "0x0fb6092458097055b7b5695aee9a3306a70db27dee357637555504587cc3b70979a27e476d06f656db47a868aca9b01e1efb1978",
                        "index": 5
                    },
                    {
                        "pubkey": "0xb5cd3b4395f76558823a0f16eeab034d31e5024576d8f5529e5e3e666aa5c764d80c035ed260fa6be73ca72517e05135f264f819",
                        "index": 6
                    },
                    {
                        "pubkey": "0x522b0815c617a3545d5b53361a454251369d923ffc4b174a5712ce01a20fd60572579c3e03bf093b1015ef0fe6063e22ddef214d",
                        "index": 7
                    },
                    {
                        "pubkey": "0x21ade9268c60af157f924f637f4b9c3734b523121efa0b547e21c90d71c14340accca6326736800c2ef1bf61877c986d4ddf835e",
                        "index": 8
                    },
                    {
                        "pubkey": "0xf977bd34c9b71d7d009bac5e61ba457349c1f83f1baeaf4884d35029792617306a92a2763ccacf223aa3d90c7d11321dd0634348",
                        "index": 9
                    }
                ]
            },
            "justificationsRoots": {
                "data": []
            },
            "justificationsValidators": {
                "data": []
            }
        },
        "anchorBlock": {
            "slot": 0,
            "proposerIndex": 0,
            "parentRoot": "0x0000000000000000000000000000000000000000000000000000000000000000",
            "stateRoot": "0xdd4d50777a2795c87692b1439bbdb6040b261083b5a3fdb227842143320d66a4",
            "body": {
                "attestations": {
                    "data": []
                }
            }
        },
        "steps": [
            {
                "valid": true,
                "checks": {
                    "headSlot": 1,
                    "headRoot": "0xa714beef7a71b7699d59e902a61e08bffea346ab1cfcf010563bd0bc7782ce96",
                    "headRootLabel": "base"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 1,
                        "proposerIndex": 1,
                        "parentRoot": "0x6a2326da9e435e296e0f05d37b574c49de52ba9c004c1d02a83418e092bda242",
                        "stateRoot": "0x78e57b0b1b061035b18449818a6a79866a9f2b81fe310c272160e39724cec1e1",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 1,
                        "data": {
                            "slot": 1,
                            "head": {
                                "root": "0xa714beef7a71b7699d59e902a61e08bffea346ab1cfcf010563bd0bc7782ce96",
                                "slot": 1
                            },
                            "target": {
                                "root": "0xa714beef7a71b7699d59e902a61e08bffea346ab1cfcf010563bd0bc7782ce96",
                                "slot": 1
                            },
                            "source": {
                                "root": "0x6a2326da9e435e296e0f05d37b574c49de52ba9c004c1d02a83418e092bda242",
                                "slot": 0
                            }
                        }
                    },
                    "blockRootLabel": "base"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 3,
                    "headRoot": "0x789fb2aea77969bb29a06e639e843fc098388b3426a0b0f4d5224533bb300dd9",
                    "headRootLabel": "fork_a_3"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 3,
                        "proposerIndex": 3,
                        "parentRoot": "0xa714beef7a71b7699d59e902a61e08bffea346ab1cfcf010563bd0bc7782ce96",
                        "stateRoot": "0x498d7fb7b00193a59401b781fd8cc2efb0e9892cff5b4025e92da1bdef6a2788",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 3,
                        "data": {
                            "slot": 3,
                            "head": {
                                "root": "0x789fb2aea77969bb29a06e639e843fc098388b3426a0b0f4d5224533bb300dd9",
                                "slot": 3
                            },
                            "target": {
                                "root": "0x789fb2aea77969bb29a06e639e843fc098388b3426a0b0f4d5224533bb300dd9",
                                "slot": 3
                            },
                            "source": {
                                "root": "0xa714beef7a71b7699d59e902a61e08bffea346ab1cfcf010563bd0bc7782ce96",
                                "slot": 1
                            }
                        }
                    },
                    "blockRootLabel": "fork_a_3"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 3,
                    "headRoot": "0x789fb2aea77969bb29a06e639e843fc098388b3426a0b0f4d5224533bb300dd9",
                    "headRootLabel": "fork_a_3"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 4,
                        "proposerIndex": 4,
                        "parentRoot": "0xa714beef7a71b7699d59e902a61e08bffea346ab1cfcf010563bd0bc7782ce96",
                        "stateRoot": "0x22d4e916d14d96579adc6c729933ea817c7be0686d611f88e5f3b2ac7a2b49e7",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 4,
                        "data": {
                            "slot": 4,
                            "head": {
                                "root": "0x2232157574ccc4bad3337afe7ede844cd9c4f3a38eb8289601558b983af0e59b",
                                "slot": 4
                            },
                            "target": {
                                "root": "0x2232157574ccc4bad3337afe7ede844cd9c4f3a38eb8289601558b983af0e59b",
                                "slot": 4
                            },
                            "source": {
                                "root": "0xa714beef7a71b7699d59e902a61e08bffea346ab1cfcf010563bd0bc7782ce96",
                                "slot": 1
                            }
                        }
                    },
                    "blockRootLabel": "fork_b_4"
                }
            },
            {
                "valid": true,
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 7,
                        "proposerIndex": 7,
                        "parentRoot": "0x789fb2aea77969bb29a06e639e843fc098388b3426a0b0f4d5224533bb300dd9",
                        "stateRoot": "0xb082c9d166e932e34355c7b563062f844d8b3dcd595804210600d19cf720d4df",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 7,
                        "data": {
                            "slot": 7,
                            "head": {
                                "root": "0xef4459159416712f8b0b54734eba24a452612c3fc0ef6cd405a2a3bc34c1e924",
                                "slot": 7
                            },
                            "target": {
                                "root": "0xef4459159416712f8b0b54734eba24a452612c3fc0ef6cd405a2a3bc34c1e924",
                                "slot": 7
                            },
                            "source": {
                                "root": "0x789fb2aea77969bb29a06e639e843fc098388b3426a0b0f4d5224533bb300dd9",
                                "slot": 3
                            }
                        }
                    },
                    "blockRootLabel": "fork_a_7"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 7,
                    "headRoot": "0xef4459159416712f8b0b54734eba24a452612c3fc0ef6cd405a2a3bc34c1e924",
                    "headRootLabel": "fork_a_7"
                },
                "stepType": "tick",
                "time": 31
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 7,
                    "headRoot": "0xef4459159416712f8b0b54734eba24a452612c3fc0ef6cd405a2a3bc34c1e924",
                    "headRootLabel": "fork_a_7"
                },
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 8,
                        "proposerIndex": 8,
                        "parentRoot": "0x2232157574ccc4bad3337afe7ede844cd9c4f3a38eb8289601558b983af0e59b",
                        "stateRoot": "0xe5799cce3053ed18101f058b86279ee3506cdc043dfd3d9459e7c8cd275dd70b",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 8,
                        "data": {
                            "slot": 8,
                            "head": {
                                "root": "0xef608c442bbac06a0f3666b1c264ff6255df50e0f22f0e26715907bdd31c12b1",
                                "slot": 8
                            },
                            "target": {
                                "root": "0xef608c442bbac06a0f3666b1c264ff6255df50e0f22f0e26715907bdd31c12b1",
                                "slot": 8
                            },
                            "source": {
                                "root": "0x2232157574ccc4bad3337afe7ede844cd9c4f3a38eb8289601558b983af0e59b",
                                "slot": 4
                            }
                        }
                    },
                    "blockRootLabel": "fork_b_8"
                }
            },
            {
                "valid": true,
                "stepType": "block",
                "block": {
                    "block": {
                        "slot": 9,
                        "proposerIndex": 9,
                        "parentRoot": "0xef608c442bbac06a0f3666b1c264ff6255df50e0f22f0e26715907bdd31c12b1",
                        "stateRoot": "0x6606c45e80ca56d447cc01fb1d2883faaa377f15fb3345a14d4ffe1c10065d66",
                        "body": {
                            "attestations": {
                                "data": []
                            }
                        }
                    },
                    "proposerAttestation": {
                        "validatorId": 9,
                        "data": {
                            "slot": 9,
                            "head": {
                                "root": "0x57a0c119d58646e11a0c8b60efb893537011abb8e026282d95f78bb08b6ee5de",
                                "slot": 9
                            },
                            "target": {
                                "root": "0x57a0c119d58646e11a0c8b60efb893537011abb8e026282d95f78bb08b6ee5de",
                                "slot": 9
                            },
                            "source": {
                                "root": "0xef608c442bbac06a0f3666b1c264ff6255df50e0f22f0e26715907bdd31c12b1",
                                "slot": 8
                            }
                        }
                    },
                    "blockRootLabel": "fork_b_9"
                }
            },
            {
                "valid": true,
                "checks": {
                    "headSlot": 9,
                    "headRoot": "0x57a0c119d58646e11a0c8b60efb893537011abb8e026282d95f78bb08b6ee5de",
                    "headRootLabel": "fork_b_9"
                },
                "stepType": "tick",
                "time": 39
            }
        ],
        "maxSlot": 9,
        "_info": {
            "hash": "0xbe1f146cff42919afac43d40b9c9d411db32527e3937cfdc31bf763cd8abf651",
            "comment": "`leanSpec` generated test",
            "testId": "tests/consensus/devnet/fc/test_fork_choice_reorgs.py::test_reorg_with_slot_gaps[fork_Devnet]",
            "description": "Reorg occurs correctly even with missed slots in the chain.\n\n    Scenario\n    --------\n    - Slot 1: Base\n    - Slot 3: Fork A (skipping slot 2)\n    - Slot 4: Fork B (competing)\n    - Slot 7: Fork A extended (skipping slots 4-6)\n    - Slot 8: Fork B extended (skipping slots 5-7)\n    - Slot 9: Fork B extended again \u2192 triggers reorg\n\n    Missed Slots: 2, 5, 6 (no blocks produced)\n\n    Expected Behavior\n    -----------------\n    1. Sparse block production doesn't affect fork choice logic\n    2. Weight calculation only considers actual blocks\n    3. Reorg happens based on block count, not slot numbers\n    4. Fork B with 3 blocks beats fork A with 2 blocks\n\n    Reorg Details:\n        - **Depth**: 2 blocks (fork_a slots 3, 7)\n        - **Trigger**: Progressive building despite gaps\n        - **Weight**: 3 proposer attestations vs 2\n\n    Why This Matters\n    ----------------\n    Missed slots are extremely common in production:\n    - Offline validators (expected ~1% downtime)\n    - Network issues preventing timely block propagation\n    - Intentional skips during network congestion\n\n    Fork choice must remain robust with sparse block production:\n    - Gaps don't create bias toward any fork\n    - Only actual blocks contribute weight\n    - Reorg logic works identically whether slots are consecutive or sparse\n\n    This test ensures the algorithm works correctly in realistic network\n    conditions where perfect block production is impossible.",
            "fixtureFormat": "fork_choice_test"
        }
    }
}